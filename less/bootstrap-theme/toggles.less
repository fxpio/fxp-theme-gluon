//
// Toggles
// --------------------------------------------------

.form-control-md-toggle {
    @bar-size: round(@input-toggle-size / 3 * 2);
    @margin: @bar-size + 1;
    @width: round(@input-toggle-size * 1.8);
    @left: ceil(-@input-toggle-size / 4);
    @top: ceil(-(@input-toggle-size - @bar-size) / 2);
    @checkedLeft: round(@width - (@input-toggle-size / 2) + @left);

    // unchecked
    input[type="checkbox"] {
        position: absolute;
        padding: 0;
        margin: 0;
        width: @input-toggle-size;
        height: @input-toggle-size;
        vertical-align: top;
        opacity: 0;

        + .form-control-md-style {
            content: '';
            display: inline-block;
            position: relative;
            width: @width;
            height: @bar-size;
            vertical-align: middle;
            margin: 0 @input-toggle-size 0 0;
            .border-top-radius(@bar-size);
            .border-bottom-radius(@bar-size);
            .transition(background 0.3s ease);

            &:before {
                content: '';
                position: absolute;
                display: inline-block;
                left: @left;
                top: @top;
                width: @input-toggle-size;
                height: @input-toggle-size;
                cursor: pointer;
                z-index: 1;
                .border-top-radius(50%);
                .border-bottom-radius(50%);
                .box-shadow(@input-toggle-shadow);
                .transition(@input-toggle-transition);
            }

            &:after {
                content: "";
                position: absolute;
                display: inline-block;
                top: @top;
                left: @left;
                width: @input-toggle-size;
                height: @input-toggle-size;
                .border-top-radius(50%);
                .border-bottom-radius(50%);
                .transform-origin(50% 50%);
                .transition(@input-toggle-transition);
            }
        }
    }

    // checked
    input[type="checkbox"]:checked {
        + .form-control-md-style {
            &:before,
            &:after {
                left: @checkedLeft;
            }
        }
    }

    // disabled unchecked
    input[type="checkbox"][disabled],
    fieldset[disabled] & input[type="checkbox"] {
        + .form-control-md-style {
            &,
            &:before {
                cursor: not-allowed;
            }

            + span {
                cursor: not-allowed;
            }
        }
    }
}
