//
// Forms
// --------------------------------------------------

// Input
// --------------------------------------------------

.input-lg {
    border-radius: @input-border-radius-large;
}

.input-sm {
    border-radius: @input-border-radius-small;
}

.form-group {
    position: relative;
    padding-top: @font-size-base;

    input,
    textarea {
        padding-left: 0;
        padding-right: 0;
        display: block;
        width: 100%;
        border: none;
        border-bottom: 1px solid @input-border;
        outline: none;
        .box-shadow(none);

        ~ label:not(.btn) {
            color: @input-color-placeholder;
            position: absolute;
            pointer-events: none;
            font-weight: normal;
            left: 0;
            top: @font-size-base + (@font-size-base / 2);
            -moz-transition: @transition;
            -webkit-transition: @transition;
            transition: @transition;
            -moz-transform-origin: top left;
            -webkit-transform-origin: top left;
            transform-origin: top left;
        }

        ~ label.btn,
        ~ .input-group-btn label.btn {
            margin: 0;
        }

        &:focus,
        &.has-floating-content,
        &.fixed-floating-label {
            ~ label:not(.btn) {
                color: @input-border-focus;
                -moz-transform: scale(0.85) translate(0, -(@font-size-base + (@font-size-base / 2)));
                -webkit-transform: scale(0.85) translate(0, -(@font-size-base + (@font-size-base / 2)));
                transform: scale(0.85) translate(0, -(@font-size-base + (@font-size-base / 2)));
            }
        }

        &:focus {
            border-bottom-color: @input-border-focus;

            ~ .floating-bar:before,
            ~ .floating-bar:after {
                width: 50%;
            }
        }
    }

    textarea {
        resize: none;
    }

    .floating-bar {
        position: relative;
        display: block;
        width: 100%;

        &:before,
        &:after {
            content: '';
            height: 2px;
            width: 0;
            bottom: 0;
            position: absolute;
            background: @input-border-focus;
        }

        &:before {
            left: 50%;
        }

        &:after {
            right: 50%;
        }
    }
}

.form-horizontal {
    .control-label,
    .radio,
    .checkbox,
    .radio-inline,
    .checkbox-inline {
        padding-bottom: (@padding-base-vertical + 1); // Default padding plus a border
    }
}

.input-group {
    .input-group-addon {
        border: none;
        border-bottom: 1px solid transparent;
        background-color: transparent;
    }

    .form-control {
        border: none;
        box-shadow: none;
        padding: 0;

        input,
        textarea {
            border: none;
            height: 100%;
            width: 100%;
            padding: @padding-base-vertical 0;
            border-bottom: 1px solid @input-border;

            ~ label {
                top: @padding-base-vertical;
            }
        }
    }
}

input,
textarea {
    &[disabled],
    &[readonly],
    fieldset[disabled] & {
        border-color: @input-border-disabled;
        border-bottom-style: dashed;
        color: @input-color-disabled;
        .placeholder(@input-color-placeholder-disabled);

        ~ label:not(.btn) {
            color: @input-color-placeholder-disabled;
        }

        &.has-floating-content,
        &.fixed-floating-label {
            ~ label:not(.btn) {
                color: @input-color-placeholder-disabled;
            }
        }
    }
}

// Checkbox / Radio
// --------------------------------------------------

.radio,
.checkbox {
    label {
        &.form-control-fa {
            padding-left: 0;
        }
    }
}

label {
    font-weight: @font-family-weight-bold;

    &.form-control-fa {
        display: inline-block;
        margin: 0;
        line-height: 2 - @line-height-base;

        &.radio-inline,
        &.checkbox-inline {
            &:first-child {
                padding-left: 0;
            }

            + .form-control-fa.radio-inline,
            + .form-control-fa.checkbox-inline {
                margin-left: 0;
            }
        }

        > input[type="checkbox"],
        > input[type="radio"] {
            opacity: 0;
            z-index: -1;

            + .form-control-fa-style {
                display: inline-block;
                margin: 0;
                width: @input-radio-checkbox-size;
                height: @input-radio-checkbox-size;
                background-color: @input-bg;
                border: 1px solid @input-border;
                border-radius: @input-border-radius;
                .box-shadow(inset 0 1px 1px rgba(0,0,0,.075));
                .transition(~"border-color ease-in-out .15s, box-shadow ease-in-out .15s");

                &:hover {
                    cursor: default;
                    border-color: @input-border-focus;
                }

                + span {
                    line-height: @input-radio-checkbox-size;
                    margin-left: 10px;
                    vertical-align: top;
                }
            }

            &:checked  {
                + .form-control-fa-style {
                    font-size: 15px;
                    color: @input-checked-color;
                    background-color: @input-checked-bg;
                    border-color:  @input-checked-bg;

                    &:hover {
                        border-color: @input-checked-border-focus;
                    }

                    &:before {
                        content: "\f00c";
                        float: left;
                        padding: 0 3px;
                        margin-top: 3px;
                    }
                }
            }

            &:focus {
                + .form-control-fa-style {
                    .form-control-focus();
                    border-color: @input-border-focus;
                }
            }

            &:checked:focus {
                + .form-control-fa-style {
                    border-color: @input-checked-border-focus;
                }
            }
        }

        > input[type="radio"] {
            + .form-control-fa-style {
                border-radius: 11px;
            }
        }
    }
}

label.form-control-fa > input[type="checkbox"][disabled],
label.form-control-fa > input[type="radio"][disabled],
fieldset[disabled] label.form-control-fa > input[type="checkbox"],
fieldset[disabled] label.form-control-fa > input[type="radio"] {
    + .form-control-fa-style {
        cursor: not-allowed;
        background-color: @input-bg-disabled;
        border-color: @input-border;
        color: inherit;

        &:hover {
            border-color: @input-border;
        }

        &:before {
            opacity: 0.3;
        }
    }
}

.form-control-color(default);
.form-control-disabled-color(default);
.form-control-color(primary);
.form-control-disabled-color(primary);
.form-control-color(accent);
.form-control-disabled-color(accent);
.form-control-color(success);
.form-control-disabled-color(success);
.form-control-color(info);
.form-control-disabled-color(info);
.form-control-color(warning);
.form-control-disabled-color(warning);
.form-control-color(danger);
.form-control-disabled-color(danger);


// Input file
// --------------------------------------------------

.input-group {
    &.bootstrap-filestyle {
        input,
        textarea {
            border-bottom: 1px solid @input-border;
        }
    }
}

.form-control {
    + .btn-file-input-text {
        float: right;
        margin-top: -@input-height-base;
    }

    + .bootstrap-filestyle {
        outline-color: @input-border-focus;
    }
}

.form-control.input-lg + .btn-file-input-text {
    float: right;
    margin-top: -@input-height-large;
    height: @input-height-large;
    .button-size(@padding-large-vertical; @padding-large-horizontal; @font-size-large; @line-height-large; @input-border-radius-large);
}

.form-control.input-sm + .btn-file-input-text {
    float: right;
    margin-top: -@input-height-small;
    height: @input-height-small;
    .button-size(@padding-small-vertical; @padding-small-horizontal; @font-size-small; @line-height-small; @input-border-radius-small);
}
