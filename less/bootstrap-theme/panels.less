//
// Panels
// --------------------------------------------------

.panel {
    &.panel-no-border {
        border: none;
    }

    .box-shadow(@panel-shadow);

    .panel-actions {
        float: right;
        max-width: 68%;
        text-align: right;

        > .btn {
            margin: 2px;
            padding: 6px 12px;
            min-width: 34px;

            &.btn-xs {
                padding: 1px 5px;
                min-width: 22px;
            }

            &.btn-sm {
                padding: 4px 9px;
                min-width: 28px;
            }

            &.btn-lg {
                padding: 10px 16px;
                min-width: 46px;
            }
        }
    }

    > .panel-heading,
    > .panel-footer {
        > .panel-actions {
            padding: 10px 0;
            line-height: ceil((@font-size-base * 1.125));
        }

        > .panel-buttons {
            margin: 10px -16px;

            > .nav-scrollable {
                > .nav-btn-group {
                    white-space: nowrap;
                    display: inline-block;
                    padding: 10px;
                }

                > .nav-scrollable-menu > * {
                    margin: 10px 0;
                }
            }

            > .btn,
            > .btn-group > .btn,
            > .nav-scrollable > .nav-btn-group > .btn,
            > .nav-scrollable > .nav-btn-group > .btn-group > .btn {
                margin: 5px 2px;

                &:first-child {
                    margin-left: 2px;
                }

                &:last-child {
                    margin-right: 2px;
                }
            }
        }
    }

    > .panel-heading {
        &:last-child {
            border-bottom: none;
        }

        &.panel-heading-tall {
            min-height: 90px;
            position: relative;
            margin-bottom: 28px;
            padding: 23px 25px;

            .tall-fab-wrapper {
                position: absolute;
                right: 10%;
                top: 100%;
                margin-top: -27px;

                &.fab-xs {
                    margin-top: -17px;
                }

                &.fab-sm {
                    margin-top: -23px;
                }

                &.fab-lg {
                    margin-top: -33px;
                }
            }
        }

        > .clearfix {
            height: 0;
        }

        > .panel-actions {
            margin-top: -16px;
            margin-right: -12px;
        }

        > .panel-buttons {
            border-top: 1px solid transparent;
            border-bottom: 1px solid transparent;

            &:first-child {
                border-top: none;
                margin-top: -11px;
                .border-top-radius(@panel-border-radius);

                > .nav-scrollable {
                    .border-top-radius(@panel-border-radius);
                }
            }

            &:last-child {
                border-bottom: none;
                margin-bottom: -10px;
            }
        }
    }

    > .panel-footer {
        > .panel-buttons {
            border-top: 1px solid transparent;
            border-bottom: 1px solid transparent;

            &:first-child {
                border-top: none;
                margin-top: -10px;
            }

            &:last-child {
                border-bottom: none;
                margin-bottom: -11px;
                .border-bottom-radius(@panel-border-radius);

                > .nav-scrollable {
                    .border-bottom-radius(@panel-border-radius);
                }
            }
        }
    }

    > .panel-section {
        > .panel-section-heading {
            padding: 10px 15px;

            > .panel-actions {
                padding: 7px 0;
                margin-top: -10px;
                margin-right: -15px;
                line-height: ceil((@panel-section-heading-size * 1.125));
            }

            + .panel-body {
                padding-top: 0;
                padding-left: 0;
                padding-right: 0;
            }
        }

        + .panel-section {
            margin-top: 15px;

            > .panel-section-heading {
                border-top: 1px solid transparent;
            }
        }

        &.panel-collapsed {
            > *:not(.panel-section-heading) {
                display: none;
            }

            > .panel-section-heading {
                > .panel-actions {
                    > .btn-panel-collapse {
                        .caret {
                            .rotate(90deg);
                        }
                    }
                }
            }
        }

        &.container,
        &.container-fluid {
            > .panel-section-heading {
                margin-left: -15px;
                margin-right: -15px;
            }
        }
    }

    > .alert {
        margin: 10px;
    }

    .panel-row {
        margin-bottom: 15px;

        + .panel-row {
            border-top: 1px solid transparent;
        }

        &.panel-row-spacer {
            min-height: @input-height-base;
        }

        &:last-child {
            margin-bottom: 10px;
        }
    }

    .panel-cell {
        .control-label {
            word-wrap: break-word;
            .control-label();

            &.required:after {
                top: 5px;
                margin-left: 0;
            }
        }

        .panel-block-help {
            > .panel-cell-help {
                padding: 0 3px;
                z-index: 1;
                min-width: 1px;
            }
        }

        .block-control {
            padding-top: 10px;
            padding-bottom: 10px;
            word-wrap: break-word;

            &.block-choice,
            &.block-repeated {
                padding-top: 0;
            }

            &.block-repeated {
                .form-group {
                    margin-bottom: 10px;

                    .control-label {
                        font-size: 11px;
                    }
                }
            }

            > .form-control,
            > .checkbox,
            > .radio,
            > .select2-wrapper {
                margin-top: -10px;
            }

            > .badge {
                margin-top: -4px;
            }

            .block-control-fa-checkbox,
            .block-control-fa-radio {
                position: absolute;
            }

            .form-group {
                margin-top: 10px;

                &:first-child {
                    margin-top: 0;
                }
            }

            .form-inline {
                .input-group {
                    .form-group {
                        margin-right: 10px;
                    }
                }
            }

            .form-collection-row {
                margin-top: 0;

                .input-group {
                    > .form-group {
                        + .input-group-btn {
                            padding-top: 10px;
                        }
                    }
                }
            }

            .btn.btn-add {
                margin-top: 6px;
            }
        }

        > .panel-cell-wrapper-vertical {
            > .control-label {
                display: inline-block;
                margin: 0;
                padding-top: 10px;
            }

            > .panel-block-help {
                display: inline-block;
                margin-left: 16px;
            }
        }

        > .panel-cell-wrapper {
            display: table;
            width: 100%;

            > .control-label {
                display: table-cell;
                vertical-align: top;
                width: @panel-cell-control-label-width;
                text-align: right;
                margin-top: 0;
                margin-bottom: 0;
                padding-top: 10px;
                padding-bottom: 10px;
                padding-right: 6px;

                + .block-control {
                    padding-left: 16px;
                }
            }

            > .block-control {
                display: table-cell;
                vertical-align: top;
                width: auto;
            }

            > .panel-block-help {
                display: table-cell;
                vertical-align: top;
                width: 16px;
                text-align: right;
                padding-top: 9px;
                padding-right: 2px;
            }
        }

        > .panel-cell-wrapper-pref {
            padding-left: 15px;
            padding-right: 15px;
            display: table;
            width: 100%;

            > .ripple {
                margin-left: 20px;
                margin-right: 20px;
            }

            .block-control,
            .panel-block-help,
            .field-group-addon,
            .field-group-btn {
                display: table-cell;
                padding: 20px 0;
                vertical-align: top;
            }

            .field-group-addon,
            .field-group-btn {
                padding-left: 10px;
                padding-right: 10px;
                vertical-align: top;

                &:first-child {
                    min-width: 60px;
                    text-align: left;
                }
            }

            .block-control {
                padding-left: 10px;
                padding-right: 10px;
            }

            .control-label {
                font-weight: @font-family-weight-bold;
            }

            .panel-block-help {
                width: 0;
                max-width: 1px;
                vertical-align: top;

                .btn {
                    position: absolute;
                    top: 20px;
                }
            }
        }

        &.block-floating-label {
            > .panel-cell-wrapper > .control-label,
            > .panel-cell-wrapper > .block-control,
            > .control-label,
            > .block-control {
                padding-top: 30px;
            }

            .form-collection-row {
                + .form-collection-row {
                    margin-top: 20px;
                }
            }
        }
    }

    .panel-cell-spacer {
        > div[class*="col-"] {
            min-height: @input-height-base + 6px;
        }
    }

    .table {
        margin-bottom: 0;
    }
}

.panel-title {
    font-size: @panel-heading-size;

    + .panel-title {
        margin-top: 10px;
    }
}

.panel-section-title {
    font-size: @panel-section-heading-size;
    line-height: ceil((@panel-section-heading-size * 1.125));
    margin: 0;
}

.panel-table {
    .panel-body {
        padding: 0;
    }
}

.panel-number {
    font-size: @font-size-h1;
    line-height: @font-size-h1;
    font-weight: @font-family-weight-bold;
}

@media (max-width: (@screen-xs-min - 1)) {
    .panel {
        > .panel-section {
            > .panel-row {
                > .panel-cell {
                    > .panel-cell-wrapper {
                        display: block;

                        > .control-label {
                            display: inline-block;
                            width: auto;
                            text-align: left;

                            + .block-control {
                                padding-left: 0;
                            }
                        }

                        > .block-control {
                            display: block;
                            width: 100%;
                        }

                        > .panel-block-help {
                            display: inline-block;
                        }
                    }
                }
            }
        }
    }
}

@media screen and (max-width: @screen-xs-max) {
    .panel {
        .table-responsive {
            margin-bottom: 0;
            border: none;
        }
    }
}

@media (max-width: @screen-xs-max) {
    .col-xs-12,
    .col-sm-12,
    .col-md-12,
    .col-lg-12,
    .col-sm-6,
    .col-md-6,
    .col-lg-6,
    .col-sm-3 {
        > .panel,
        > form > .panel {
            &.panel-main {
                margin-left: -(ceil((@grid-gutter-width / 2)));
                margin-right: -(floor((@grid-gutter-width / 2)));
                .border-top-radius(0);
                .border-bottom-radius(0);
            }
        }
    }
}

/*@media (min-width: @screen-sm-min) {
    // fix vertical align of last cell
    .panel-row:first-child,
    .panel-section-heading + .panel-row {
        .panel-cell:not(.panel-cell-pref) {
            &:last-child {
                margin-top: -5px;
            }
        }
    }
}*/
