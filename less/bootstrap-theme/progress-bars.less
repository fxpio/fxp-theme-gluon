//
// Progress bars
// --------------------------------------------------

.progress {
    height: 4px;
    .box-shadow(none);

    &.progress-floating-label {
        overflow: visible;

        .progress-bar span {
            position: relative;
            float: right;
            display: block;
            margin: -20px 0 0 0;
            padding: 4px;
            line-height: 9px;
            font-size: 9px;
            white-space: nowrap;
            background-color: @tooltip-bg;
            color: @tooltip-color;
            opacity: @tooltip-opacity;
            .border-top-radius(4px);
            .border-bottom-radius(4px);
            .transform-origin(center bottom);
            .transition(@dropdown-transition);
            // override sr-only
            width: auto;
            height: auto;
            overflow: inherit;

            &:after {
                top: 100%;
                left: 50%;
                border: solid transparent;
                content: " ";
                height: 0;
                width: 0;
                position: absolute;
                pointer-events: none;
                border-top-color: @tooltip-arrow-color;
                border-width: 4px;
                margin-left: -4px;
            }
        }

        &.on-hover {
            .progress-bar {
                span {
                    .scale(0);
                }

                &:hover,
                &:active {
                    span {
                        .scale(1);
                    }
                }
            }
        }
    }
}

.progress-bar {
    font-size: 4px;
    line-height: 4px;
    .box-shadow(none);
}

.progress-lg {
    .progress& {
        height: 8px;
    }

    .progress-bar {
        font-size: 8px;
        line-height: 8px;
    }
}

// Indeterminate
// -------------------------
.progress.progress-indeterminate {
    position: relative;
    overflow: hidden;

    .progress-bar {
        &:before {
            content: '';
            position: absolute;
            background-color: inherit;
            top: 0;
            left: 0;
            bottom: 0;
            will-change: left, right;
            .animation(progress-bar-indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite);
        }

        &:after {
            content: '';
            position: absolute;
            background-color: inherit;
            top: 0;
            left: 0;
            bottom: 0;
            will-change: left, right;
            .animation(progress-bar-indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite);
            .animation-delay(1.15s);
        }
    }

    .keyframes(progress-bar-indeterminate, {
        0% {
            left: -35%;
            right: 100%;
        }
        60% {
            left: 100%;
            right: -90%;
        }
        100% {
            left: 100%;
            right: -90%;
        }
    });

    .keyframes(progress-bar-indeterminate-short, {
        0% {
            left: -200%;
            right: 100%;
        }
        60% {
            left: 107%;
            right: -8%;
        }
        100% {
            left: 107%;
            right: -8%;
        }
    });
}

// Variations
// -------------------------

.progress-bar-accent {
  .progress-bar-variant(@progress-bar-accent-bg);
}
